 # ูพุฑูฺู ุฑุจุงุช ุชูฺฏุฑุงู Aniran

ุงู ูพุฑูฺู ฺฉ **ุฑุจุงุช ุชูฺฏุฑุงู ุฌุงูุน ู ฺูุฏููุธูุฑู** ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ **Cloudflare Workers**ุ **Google Gemini API** ู **Jikan API**ุ ุฎุฏูุงุช ูพุดุฑูุชูโุง ุฏุฑ ุฒููู ุงุทูุงุนุงุช ุงูููุ ฺุช ุจุง ุดุฎุตุชโูุง ู ูุฏุฑุช ุงุนูุงูโูุง ูพุฎุด ุงุฑุงุฆู ูโุฏูุฏ.

---

### ๐ค ูุนูุงุฑ ู ุชฺฉููููฺโูุง

ูพุฑูฺู ุจุฑ ูพุงู ูุนูุงุฑ **Serverless** ู **Durable Objects (DO)** ุฏุฑ Cloudflare ุณุงุฎุชู ุดุฏู ุงุณุช:

* **Backend (Cloudflare Worker):** ููุทู ูุฑูุฏ ุงุตู ุจุฑุง ุฏุฑุงูุช ู ูพุฑุฏุงุฒุด ุจูโุฑูุฒุฑุณุงูโูุง ุชูฺฏุฑุงู (ูพุงูโูุงุ ฺฉุงูโุจฺฉโูุงุ ุฏุณุชูุฑุงุช ู ุจูโุฑูุฒุฑุณุงูโูุง ุฒูุงูโุจูุฏ ุดุฏู).
* **ููุด ูุตููุน (Gemini):** ุจุฑุง ุชุฑุฌูู ูุชูู ูุงุฑุณ ุจู ุงูฺฏูุณ (ุจุฑุง ุฌุณุชุฌู)ุ ุชุฑุฌูู ุฎูุงุตูโูุง ุจู ูุงุฑุณ ุฑูุงู ู ุงุฌุฑุง ุฏุณุชูุฑุงุช ฺุช ุจุง ุดุฎุตุชโูุง (Role-Playing) ุงุณุชูุงุฏู ูโุดูุฏ.
* **ุฏุงุฏูโูุง ุงููู (Jikan API):** ุจุฑุง ุฌุณุชุฌูุ ุฏุฑุงูุช ุฌุฒุฆุงุช ฺฉุงูู ุงูููุ ุงุทูุงุนุงุช ุดุฎุตุชโูุง ู ุชูุตูโูุง ูุฑุชุจุท ุงุณุชูุงุฏู ูโุดูุฏ.
* **ุงุนูุงูโูุง (Durable Objects - NotifierDO):** ุงุฒ Durable Objects ุจุฑุง ุงุฌุฑุง ูุธุงู ุฒูุงูโุจูุฏ ุดุฏู ุฏูู (Alarm) ุฏุฑ ุฒูุงู ูพุฎุด ูุณูุช ุฌุฏุฏ ุงููู ุงุณุชูุงุฏู ูโุดูุฏ. ุงู ุงูุฑ ุงูฺฉุงู ุงุฑุณุงู ุงุนูุงู ุฏุฑ ูุญุธู ุฏูู ูพุฎุด ุฑุง ูุฑุงูู ูโุขูุฑุฏ.
* **ุฐุฎุฑูโุณุงุฒ (Cloudflare KV):** ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ูุฎุชูู ฺฉุงุฑุจุฑ:
    * `USER_KEYS`: ฺฉูุฏ API Gemini ฺฉุงุฑุจุฑ ู ุชุงุฑุฎฺู ุฌูุณุงุช ฺุช.
    * `SYNOPSIS_CACHE`: ุฎูุงุตูโูุง ุฏุงุณุชุงู ุชุฑุฌูู ุดุฏู ุจุฑุง ุงูุฒุงุด ุณุฑุนุช.
    * `NOTIFIER_KV`: ุงุทูุงุนุงุช ูุฑุจูุท ุจู ุฑุจุงุช ุงุนูุงู (ูุงู ฺฉุงุฑุจุฑ Anilist ู ูุณุช ุฏูุจุงู ุดุฏู).
    * `INLINE_CACHE`: ฺฉุด ูุชุงุฌ ุฌุณุชุฌู ุฏุฑููโุฎุท (Inline Search).

---

### โ๏ธ ูุงุจูุชโูุง ุงุตู ุฑุจุงุช

ุงู ุฑุจุงุช ุฏู ุจุฎุด ุงุตู ุฑุง ุงุฑุงุฆู ูโุฏูุฏ: **ุฏุณุชุงุฑ ุงููู (Assistant)** ู **ูุฏุฑุช ุงุนูุงูโูุง (Notifier)**.

#### ฑ. ุฏุณุชุงุฑ ุงููู (Anime Assistant)

ูุงุจูุชโูุง ุงุตู ุงุฒ ุทุฑู ููู ุงุตู ุง ุฏุณุชูุฑุงุช ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:

* **ุฌุณุชุฌู ูพุดุฑูุชู:** ุฌุณุชุฌู ุจุฑ ุงุณุงุณ ูุงู ุงููู.
    * ุงฺฏุฑ ุฌุณุชุฌู ูุงุฑุณ ุจุงุดุฏุ ุงุจุชุฏุง ุจุง ุงุณุชูุงุฏู ุงุฒ **Gemini API** ุจู ุงูฺฏูุณ ุชุฑุฌูู ุดุฏู ู ุณูพุณ ุจุง Jikan API ุฌุณุชุฌู ุงูุฌุงู ูโุดูุฏ.
    * ุงูฺฉุงู ูุดุงูุฏู ูุชุงุฌ ุจู ุตูุฑุช ุตูุญูโุจูุฏ ุดุฏู.
* **ุฌุฒุฆุงุช ฺฉุงูู ุงููู:** ุจุง ุฏุณุชูุฑ `/showdetails_ID` ุง ุงูุชุฎุงุจ ุงุฒ ูุณุช ูุชุงุฌุ ุงุทูุงุนุงุช ฺฉุงูู ุดุงูู ฺุงูุฑูุงุ ุงุณุชูุฏู ู ูุถุนุช ูพุฎุด ููุงุด ุฏุงุฏู ูโุดูุฏ.
* **ุชุฑุฌูู ุฎูุงุตู ุฏุงุณุชุงู:** ุฎูุงุตู ุฏุงุณุชุงู ุงูฺฏูุณ ุจุง **Gemini API** ุจู ูุงุฑุณ ุฑูุงู ุชุฑุฌูู ุดุฏู ู ุฏุฑ ุตูุฑุช ููููุชุ ฺฉุด ูโุดูุฏ.
* **ฺุช ุจุง ุดุฎุตุชโูุง (AI Chat):**
    * ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุจุง ุฏุณุชูุฑ `/set_api` ฺฉูุฏ Gemini ุฎูุฏ ุฑุง ุซุจุช ฺฉูุฏ.
    * ูพุณ ุงุฒ ุซุจุชุ ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุจุง ุดุฎุตุชโูุง ุงููู ฺุช ฺฉูุฏ. ุฑุจุงุช ฺฉ **System Instruction** ุฏูู ุจุฑุง ุญูุธ ููุด ุดุฎุตุช (Role-Playing) ุจู Gemini ุงุฑุณุงู ูโฺฉูุฏ ุชุง ูพุงุณุฎโูุง ฺฉุงููุงู ูุงุฑุณ ู ุฏุฑ ููุด ุดุฎุตุช ุจุงุดูุฏ.
* **ุชุญูู ููุดููุฏ (Gemini Powered):** ุงูฺฉุงู ุฏุฑุงูุช ุชุญูู ฺฉุงูู ุงููู ุดุงูู ููุงุท ููุชุ ุถุนู ู ูุฎุงุทุจ ูุฏู ุจู ุตูุฑุช ุณุงุฎุชุงุฑุงูุชู (JSON).
* **ุฌุณุชุฌู ุจุฑ ุงุณุงุณ ุนฺฉุณ:** ุงุฑุณุงู ฺฉ ุนฺฉุณ ุงููู ุจุฑุง ุดูุงุณุง ุนููุงู ุงุฒ ุทุฑู ุณุฑูุณ ุฎุงุฑุฌ **Trace.moe** ู ุณูพุณ ููุงุด ุฌุฒุฆุงุช ุขู.

#### ฒ. ูุฏุฑุช ุงุนูุงูโูุง (Notifier)

ุงู ุจุฎุด ุจู ฺฉุงุฑุจุฑุงู ุงุฌุงุฒู ูโุฏูุฏ ุจุง ุงุชุตุงู ุจู ุญุณุงุจ **Anilist.co** ุฎูุฏุ ุงุฒ ูพุฎุด ูุณูุชโูุง ุฌุฏุฏ ูุทูุน ุดููุฏ:

* **ุซุจุชโูุงู:** ฺฉุงุฑุจุฑ ุจุง ุงุฑุณุงู ูุงู ฺฉุงุฑุจุฑ Anilist ุฎูุฏ ุฏุฑ ุฑุจุงุช ุซุจุชโูุงู ูโฺฉูุฏ.
* **ุจุฑูุงููโุฑุฒ ุฏูู:** ุฑุจุงุช ุจู ุตูุฑุช ุฑูุฒุงูู (ุจุง ุงุณุชูุงุฏู ุงุฒ Cloudflare Scheduled Events) ูุณุช ฺฉุงุฑุจุฑุงู ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ.
* **ุชูุธู ุขูุงุฑู:** ุจุฑุง ูุฑ ูุณูุช ุฌุฏุฏ ฺฉู ูุฑุงุฑ ุงุณุช ุฏุฑ ฒด ุณุงุนุช ุขูุฏู ูพุฎุด ุดูุฏุ ฺฉ **Durable Object (NotifierDO)** ูุนุงู ุดุฏู ู ฺฉ ุฒูฺฏ ูุดุฏุงุฑ (Alarm) ุฏุฑ **ุฒูุงู ุฏูู ูพุฎุด** ุชูุธู ูโฺฉูุฏ.
* **ุงุนูุงู:** ุฏุฑ ุฒูุงู ุฏูู ูพุฎุดุ DO ฺฉ ูพุงู ุญุงู ุนููุงู ู ููฺฉ ูุณูุช ุฌุฏุฏ ุฑุง ุจู ฺฉุงุฑุจุฑ ุงุฑุณุงู ูโฺฉูุฏ.
* **ููุงุด ุจุฑูุงูู ุงูุฑูุฒ:** ุจุง ุฏุณุชูุฑ `/today` ูุณุช ุงูููโูุง ฺฉู ุงูุฑูุฒ ูุณูุช ุฌุฏุฏ ุฏุงุฑูุฏ ููุงุด ุฏุงุฏู ูโุดูุฏ.

---

### ๐ ุฏุณุชูุฑุงุช ุงุตู

| ุฏุณุชูุฑ | ุชูุถุญ |
| :--- | :--- |
| `/start` | ููุงุด ูพุงู ุฎูุดโุขูุฏฺฏู ู ููู ุงุตู. |
| `/anime [ูุงู]` | ุฌุณุชุฌู ุงููู (ุญุช ุจุง ูุงู ูุงุฑุณ). |
| `/topanime` | ููุงุด ุงูููโูุง ุจุฑุชุฑ. |
| `/seasonal` | ููุงุด ุงูููโูุง ุฏุฑ ุญุงู ูพุฎุด ูุตู ุฌุงุฑ. |
| `/randomanime` | ูพุดููุงุฏ ฺฉ ุงููู ุชุตุงุฏู ุจุง ุงูุชุงุฒ ุจุงูุง 7.5. |
| `/set_api [ฺฉูุฏ]` | ุซุจุช ฺฉูุฏ API Gemini ุจุฑุง ูุนุงูโุณุงุฒ ูุงุจูุช ฺุช. |
| `/endchat` | ูพุงุงู ุฏุงุฏู ุจู ุฌูุณู ฺฏูุชฺฏู ูุนู ุจุง ุดุฎุตุช. |
| **ุงุฑุณุงู ุนฺฉุณ** | ุฌุณุชุฌู ุงููู ุงุฒ ุทุฑู ุชุตูุฑ. |
| **ุงุฑุณุงู ูพุงู ูุชู** | ุฏุฑ ุญุงูุช ฺุชุ ุงุฑุณุงู ูพุงู ุจู ุดุฎุตุช ูุนู. |

---

### ๐๏ธ ุชูุธูุงุช ูุญุท

ุจุฑุง ุงุฌุฑุง ููููุชโุขูุฒุ ูุชุบุฑูุง ูุญุท ุฒุฑ ุจุงุฏ ุฏุฑ ูุญุท Cloudflare Worker ุชูุธู ุดููุฏ:

* **`BOT_TOKEN`**: ุชูฺฉู API ุชูฺฏุฑุงู ุดูุง.
* **`GEMINI_API_KEY`**: ฺฉูุฏ API ุดูุง ุจุฑุง ุฏุณุชุฑุณ ุจู ูุฏูโูุง Google Gemini.
* **`ANILIST_TOKEN`**: ุชูฺฉู ูุงุฒู ุจุฑุง ุชุนุงูู ุจุง GraphQL API ุงูโูุณุช ุจุฑุง ุจุฎุด ุงุนูุงูโูุง (ุงุฎุชุงุฑ ุงูุง ุชูุตู ุดุฏู).
